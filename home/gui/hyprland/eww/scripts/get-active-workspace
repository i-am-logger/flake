#!/bin/bash

# Get current active workspace
get_active_workspace() {
    hyprctl activeworkspace -j 2>/dev/null | nix-shell -p jq --run "jq -r '.id'" 2>/dev/null || echo "1"
}

# Output initial active workspace
get_active_workspace

# Fast polling for workspace changes
while true; do
    sleep 0.1
    get_active_workspace
done
